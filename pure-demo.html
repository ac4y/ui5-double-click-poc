<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Vegytiszta UI5 Double-Click POC</title>
    <script>
        window.initPureDemo = function() {
            sap.ui.require([
                "sap/m/App",
                "sap/m/Page",
                "sap/m/Table",
                "sap/m/Column",
                "sap/m/ColumnListItem",
                "sap/m/Text",
                "sap/m/Title",
                "sap/m/VBox",
                "sap/m/HBox",
                "sap/m/Label",
                "sap/m/MessageToast",
                "sap/ui/model/json/JSONModel",
                "ui5/doubleclick/poc/control/PureDoubleClickInput"
            ], function(App, Page, Table, Column, ColumnListItem, Text, Title, VBox, HBox, Label, MessageToast, JSONModel, PureDoubleClickInput) {

                // Adat modell
                var oModel = new JSONModel({
                    items: [
                        { name: "Els≈ë elem", value: "100", description: "Vegytiszta UI5 megold√°s" },
                        { name: "M√°sodik elem", value: "200", description: "UI5 Delegate + Core.delayedCall" },
                        { name: "Harmadik elem", value: "300", description: "Nincs nat√≠v setTimeout!" }
                    ],
                    standalone1: "√ñn√°ll√≥ mez≈ë 1",
                    standalone2: "√ñn√°ll√≥ mez≈ë 2"
                });

                // T√°bl√°zat l√©trehoz√°sa
                var oTable = new Table({
                    headerText: "V√©dett adatok t√°bl√°zatban",
                    columns: [
                        new Column({ header: new Text({ text: "N√©v" }), width: "30%" }),
                        new Column({ header: new Text({ text: "√ârt√©k (2x kattint√°s!)" }), width: "30%" }),
                        new Column({ header: new Text({ text: "Le√≠r√°s" }), width: "40%" })
                    ]
                });

                oTable.bindItems({
                    path: "/items",
                    template: new ColumnListItem({
                        cells: [
                            new Text({ text: "{name}" }),
                            new PureDoubleClickInput({
                                value: "{value}",
                                width: "100%",
                                clickTimeout: 500,
                                doubleClick: function(oEvent) {
                                    console.log("T√°bl√°zat input: dupla kattint√°s", oEvent.getSource().getValue());
                                }
                            }),
                            new Text({ text: "{description}" })
                        ]
                    })
                });

                // √ñn√°ll√≥ input mez≈ëk
                var oInput1 = new PureDoubleClickInput("standalone1", {
                    value: "{/standalone1}",
                    width: "300px",
                    placeholder: "Dupla kattint√°s a szerkeszt√©shez",
                    clickTimeout: 600,
                    firstClickMessage: "Els≈ë kattint√°s - m√©g egy!",
                    secondClickMessage: "Most szerkesztheted!",
                    firstClick: function() {
                        console.log("Els≈ë kattint√°s event!");
                    },
                    doubleClick: function() {
                        console.log("Dupla kattint√°s event!");
                    }
                });

                var oInput2 = new PureDoubleClickInput("standalone2", {
                    value: "{/standalone2}",
                    width: "300px",
                    placeholder: "Ez is v√©dett",
                    clickTimeout: 500
                });

                // Oldal l√©trehoz√°sa
                var oPage = new Page({
                    title: "Vegytiszta UI5 Dupla-Kattint√°sos Input POC",
                    content: [
                        new VBox({
                            class: "sapUiMediumMargin",
                            items: [
                                new Title({
                                    text: "üß™ Vegytiszta UI5 Megold√°s",
                                    level: "H2",
                                    class: "sapUiSmallMarginBottom"
                                }),
                                new Text({
                                    text: "Ez a verzi√≥ CSAK UI5 API-kat haszn√°l - nincs nat√≠v setTimeout, addEventListener, stb.",
                                    class: "sapUiSmallMarginBottom"
                                }),

                                new Title({
                                    text: "T√°bl√°zatban",
                                    level: "H3",
                                    class: "sapUiMediumMarginTop"
                                }),
                                oTable,

                                new Title({
                                    text: "√ñn√°ll√≥ Mez≈ëk",
                                    level: "H3",
                                    class: "sapUiMediumMarginTop"
                                }),

                                new HBox({
                                    alignItems: "Center",
                                    class: "sapUiSmallMarginTop",
                                    items: [
                                        new Label({ text: "V√©dett mez≈ë 1:", labelFor: "standalone1", class: "sapUiTinyMarginEnd" }),
                                        oInput1
                                    ]
                                }),

                                new HBox({
                                    alignItems: "Center",
                                    class: "sapUiSmallMarginTop",
                                    items: [
                                        new Label({ text: "V√©dett mez≈ë 2:", labelFor: "standalone2", class: "sapUiTinyMarginEnd" }),
                                        oInput2
                                    ]
                                }),

                                new Title({
                                    text: "‚ÑπÔ∏è Haszn√°lat",
                                    level: "H3",
                                    class: "sapUiMediumMarginTop"
                                }),
                                new Text({
                                    text: "1. Kattints egyszer egy v√©dett mez≈ëre ‚Üí Highlight + Toast √ºzenet\n" +
                                          "2. Kattints m√©g egyszer (500-600ms-en bel√ºl) ‚Üí Szerkeszthet≈ë + F√≥kusz\n" +
                                          "3. Kattints ki a mez≈ëb≈ël ‚Üí Visszav√°lt read-only m√≥dba",
                                    renderWhitespace: true
                                })
                            ]
                        })
                    ]
                });

                oPage.setModel(oModel);

                // App l√©trehoz√°sa √©s megjelen√≠t√©s
                var oApp = new App({
                    pages: [oPage]
                });

                oApp.placeAt("content");
            });
        };
    </script>
    <script
        id="sap-ui-bootstrap"
        src="https://openui5.hana.ondemand.com/1.105.1/resources/sap-ui-core.js"
        data-sap-ui-theme="sap_horizon"
        data-sap-ui-libs="sap.m"
        data-sap-ui-async="true"
        data-sap-ui-compatVersion="edge"
        data-sap-ui-resourceroots='{
            "ui5.doubleclick.poc": "./"
        }'
        data-sap-ui-onInit="initPureDemo">
    </script>
</head>
<body class="sapUiBody" id="content">
</body>
</html>
